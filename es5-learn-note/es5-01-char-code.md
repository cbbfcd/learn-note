# Unicode åŸºç¡€

ä½œä¸ºè§„èŒƒé˜…è¯»å­¦ä¹ çš„å¼€ç¯‡ï¼Œè‡ªæ„Ÿä¸‡äº‹å¼€å¤´éš¾ï¼Œå¹¸å¾— `ECMAScript 5.1` è§„èŒƒå‰ä¸‰ç« èŠ‚è¿˜æ˜¯æ¯”è¾ƒå¹³æ˜“è¿‘äººã€‚

1. [Scope](http://www.ecma-international.org/ecma-262/5.1/index.html#sec-1)

2. [Conformance](http://www.ecma-international.org/ecma-262/5.1/index.html#sec-2)

3. [Normative references](http://www.ecma-international.org/ecma-262/5.1/index.html#sec-3)

åˆ‡è®°ä¸è¦ä¸€æ‰«è€Œè¿‡ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå¸¸è¢«äººå¿½è§†çš„çŸ¥è¯†ç‚¹ï¼š

> A conforming implementation of this Standard shall interpret characters in conformance with the Unicode Standard, Version 3.0 or later and ISO/IEC 10646-1 with either UCS-2 or UTF-16 as the adopted encoding form, implementation level 3. If the adopted ISO/IEC 10646-1 subset is not otherwise specified, it is presumed to be the BMP subset, collection 300. If the adopted encoding form is not otherwise specified, it presumed to be the UTF-16 encoding form.

`JavaScript` è¯ç”Ÿä¹‹æ—¶ `UTF-16` å°šæœªé—®ä¸–ï¼Œæ•…é‡‡ç”¨çš„æ˜¯ `UCS-2`ï¼Œåç»å¤šå¹´å¡«å‘è¡¥çƒ‚è‡³ä»Š(ES6) å®Œå–„äº†å¯¹ `Unicode`ã€`UTF-16` çš„æ”¯æŒã€‚

ä¸Šè¿°å¼•ç”¨ä¸­æœ€åä¸€å¥ä¹Ÿæåˆ°äº†å¦‚æœæ²¡æŒ‡å®šç¼–ç æ ¼å¼ï¼Œé»˜è®¤æ˜¯ `UTF-16` çš„ï¼ˆç»å¤§å¤šæ•° `JavaScript` å¼•æ“ä½¿ç”¨çš„æ­£æ˜¯ `UTF-16`ï¼‰ï¼

è¿™æ®µè¯ä¸­åŒæ—¶æåˆ°äº†å¥½äº›åè¯ï¼š`BMP`ã€`Unicode`ã€`UCS-2`ã€`UTF-16` ç­‰ç­‰ï¼Œæœ¬æ–‡çš„æ„¿æ™¯å°±æ˜¯å›¾æ–‡å¹¶èŒ‚ã€æµ…æ˜¾æ˜“æ‡‚çš„æ€»ç»“ç›¸å…³çš„çŸ¥è¯†ç‚¹ã€‚

## [Unicode](https://zh.wikipedia.org/wiki/Unicode)

> [Unicode å®˜ç½‘](http://unicode.org/)

è®¡ç®—æœºæ˜¯æœ€çµæ€§ä¹Ÿæ˜¯æœ€ç¬¨çš„ï¼Œä½ æ•²ä¸‹çš„æ¯ä¸€è¡Œå­—ï¼Œæ”¶è—çš„æ¯ä¸ªè¡¨æƒ…ï¼Œå­˜ä¸‹çš„æ¯å¼ ç…§ç‰‡...è®¡ç®—æœºéƒ½ä¸èƒ½ç›´æ¥çš„"ç†è§£"ï¼Œå®ƒèƒ½å¤„ç†çš„æœ€å°å•ä½å°±æ˜¯[```bit```](https://zh.wikipedia.org/wiki/%E4%BD%8D%E5%85%83)ï¼Œä¹Ÿå¸¸å¸¸è¢«å«åš**ä½**ã€‚

> 1å­—èŠ‚ï¼ˆByteï¼‰= 8 æ¯”ç‰¹ï¼ˆbitï¼‰ï¼Œ1 æ¯”ç‰¹åªèƒ½æœ‰ ```Math.pow(2, 1)``` ä¸ªå˜åŒ–ï¼ˆ0 æˆ– 1ï¼Œé€»è¾‘çœŸæˆ–é€»è¾‘å‡ï¼Œæˆ–è€…åˆ«çš„æ–¹å¼ï¼‰ï¼Œ1 å­—èŠ‚æœ‰```Math.pow(2, 8)``` ä¸ªå˜åŒ–ã€‚

```js
// å“ªæ€•æ˜¯ç»å…¸
hello world!
```

æŠ±æ­‰ï¼Œè®¡ç®—æœºå…¶å®å¹¶ä¸æ‡‚ ```hello world!``` çš„å«ä¹‰ï¼Œåªæ˜¯å°†å…¶ç†è§£ä¸ºç‰¹å®šçš„æ¯”ç‰¹åºåˆ—ã€‚

ç”¨ä¸€ä¸ªç‰¹å®šçš„æ¯”ç‰¹åºåˆ—è¡¨ç¤ºä¸€ä¸ªç‰¹å®šçš„å­—ç¬¦ï¼ˆ`Character`ï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹å…¶å®å°±æ˜¯æ‰€è°“çš„"ç¼–ç ï¼ˆ`encode`ï¼‰"ã€‚åä¹‹ï¼Œå°†è®¡ç®—æœºä¸­å­˜å‚¨çš„æ¯”ç‰¹åºåˆ—ï¼ˆä¹Ÿæœ‰å«äºŒè¿›åˆ¶åºåˆ—çš„ï¼‰è§£ææˆå¯¹åº”çš„å­—ç¬¦ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«åš"è§£ç ï¼ˆ`decode`ï¼‰"ã€‚

ç¼–è§£ç è¿‡ç¨‹éšçº¦çš„æš´éœ²å‡ºéœ€è¦ä¸€ç§å¯¹åº”å…³ç³»ï¼Œèƒ½å¤Ÿæœ€ç»ˆæ˜ å°„å­—ç¬¦ä¸å­˜å‚¨çš„æ¯”ç‰¹åºåˆ—çš„å¯¹åº”å…³ç³»ï¼Œè¿™å°±éœ€è¦å­—ç¬¦é›†äº†ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå­—ç¬¦é›†å°±æ˜¯ç”µè„‘ç¼–è§£ç é¢†åŸŸçš„"æ–°åå­—å…¸"ã€‚

ç„¶è€Œï¼Œå½“è¿™ç§å­—å…¸å¤šç§å¤šæ ·çš„æ—¶å€™å°±ä¸å¥½ç©å„¿äº†ã€‚

é—æ†¾çš„æ˜¯ï¼Œè¿™æ ·çš„å­—å…¸æœ‰ï¼š`ASCII` å­—ç¬¦é›†ã€`ISO-8859-X`ã€`GB2312` å­—ç¬¦é›†ï¼ˆç®€ä¸­ï¼‰ã€`BIG5` å­—ç¬¦é›†ï¼ˆç¹ä¸­ï¼‰ã€`GB18030` å­—ç¬¦é›†ã€`Shift-JIS` ç­‰ç­‰...

å¤šç§å¤šæ ·çš„å­—ç¬¦é›†ï¼Œç„¶åè¿˜æœ‰å¤šç§å¤šæ ·çš„å­—ç¬¦ç¼–ç ï¼Œé”™ç»¼å¤æ‚ï¼Œä¸€ä¸ªå­—ï¼Œä¹±ï¼

æ‰€ä»¥ `Unicode` è¯ç”Ÿäº†ï¼

__ç®€å•çš„è¯´ `Unicode` å°±æ˜¯æä¾›ä¸€ä¸ªå…¨çƒç»Ÿä¸€çš„æ ‡å‡†å­—ç¬¦é›†ï¼Œå…¶ç›®çš„å°±æ˜¯åœ¨å…¨ä¸–ç•ŒèŒƒå›´å†…æ”¶é›†å„ç§å­—ç¬¦ï¼Œå¹¶ä¸”ä¸ºå…¶åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ç ç‚¹ï¼ˆ`Code Point`ï¼‰ä¸ä¹‹å¯¹åº”(ç ç‚¹ç›¸å½“äºå­—ç¬¦çš„å”¯ä¸€æ ‡è¯†ç¬¦)ã€‚__

`Unicode` çš„é€šç”¨æ€§ä¸å¼€æ”¾æ€§è§£å†³äº†è¿‡å»ä¸€ç›´å­˜åœ¨çš„ä¸€ä¸ªé—®é¢˜ï¼šä¾›åº”å•†ä»¬å„è‡ªå®ç°ä¸åŒçš„å­—ç¬¦é›†å’Œç¼–ç è§„åˆ™ï¼Œå¾ˆéš¾å¤„ç†ä¸”æ··ä¹±ä¸å ªã€‚

```js
// æ¯”å¦‚ A çš„ç ç‚¹ U+0041
'A'.codePointAt(0) // 65 -> 16è¿›åˆ¶è¡¨ç¤ºä¸º 0x0041

// æ¯”å¦‚ ğŸ”¥ çš„ç ç‚¹ U+1F525
'ğŸ”¥'.codePointAt(0) // 128293 -> 16è¿›åˆ¶è¡¨ç¤ºä¸º 0x1F525
```

### å­—ç¬¦é›†ä¸å­—ç¬¦ç¼–ç 

å¾ˆå¤šäººå®¹æ˜“æ··æ·†äºŒè€…ã€‚ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼ŒUnicode å°±æ˜¯å­—ç¬¦é›†ï¼ŒUTF-8 å°±æ˜¯[å­—ç¬¦ç¼–ç ](https://en.wikipedia.org/wiki/Character_encoding)ã€‚

é€šè¿‡å­—ç¬¦é›†å®ç°ç¼–è§£ç éœ€è¦ä¸‰ä¸ªè¦ç´ ï¼š

1. å­—åº“è¡¨(é›†)ï¼ˆ`character repertoire`ï¼‰-- å­˜æœ‰æ‰€æœ‰å­—ç¬¦ï¼Œæ¯”å¦‚ `A`ï¼Œ`ğŸ”¥`
2. ç¼–ç å­—ç¬¦é›†ï¼ˆ`coded character set`ï¼‰-- å­˜æœ‰ç»™å­—ç¬¦åˆ†é…çš„å”¯ä¸€ç ç‚¹
3. å­—ç¬¦ç¼–ç ï¼ˆ`character encoding form`ï¼‰-- ä¸€ç§æ˜ å°„ç®—æ³•

å­—åº“è¡¨å†³å®šäº†æ•´ä¸ªå­—ç¬¦é›†èƒ½å¤Ÿå±•ç°è¡¨ç¤ºçš„æ‰€æœ‰å­—ç¬¦çš„èŒƒå›´ï¼Œç¼–ç å­—ç¬¦é›†å°±æ˜¯ç”¨ç ç‚¹ï¼ˆ `Code Point` ï¼‰æ¥è¡¨ç¤ºå­—ç¬¦åœ¨å­—åº“è¡¨ä¸­çš„ç´¢å¼•ï¼Œè¿™é‡Œè¡¨ç°äº†**å­—ç¬¦ä¸ç ç‚¹çš„æ˜ å°„å…³ç³»**ï¼Œç ç‚¹å°±æ˜¯å­—ç¬¦çš„ ```id```ï¼ˆæƒ³è±¡ä¸€ä¸‹æ•°ç»„é€šè¿‡ä¸‹æ ‡å–å€¼ï¼‰ã€‚

å­—ç¬¦ç¼–ç çš„ç›®çš„å°±æ˜¯å°† `Unicode` ç¼–ç ç©ºé—´ä¸­æ¯ä¸ªç ç‚¹å’Œæ¯”ç‰¹åºåˆ—è¿›è¡Œä¸€ä¸€æ˜ å°„çš„ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯è¡¨ç°äº†**ç ç‚¹ä¸æ¯”ç‰¹åºåˆ—çš„æ˜ å°„å…³ç³»**ã€‚

æ‰€ä»¥æœ€ç»ˆå¯ä»¥å®ç°å­—ç¬¦åˆ°å­—ç¬¦åºåˆ—çš„æ˜ å°„ï¼Œä¸ºç¼–è§£ç è¿‡ç¨‹æä¾›äº†"æ–°åå­—å…¸"ã€‚

ç›®å‰å¸¸ç”¨çš„å­—ç¬¦ç¼–ç æœ‰ `UTF-8`ã€`UTF-16`ã€`UTF-32`ç­‰ï¼Œå®è´¨åŒºåˆ«æ˜¯åœ¨äº§å‡ºäºŒè¿›åˆ¶çš„é•¿åº¦ä¸Šï¼Œä»è€Œä½¿å­˜å‚¨çš„å¼€é”€ä¸Šæœ‰å·®å¼‚ï¼ˆæ¯”å¦‚ `UTF-8` è¿™ç§å¯å˜é•¿ç¼–ç å°±æ¯” `UTF-32` è¿™ç§å®šé•¿ï¼Œéœ€è¦å­—èŠ‚æ›´å¤šçš„ç¼–ç æ–¹å¼æ›´èŠ‚çœç©ºé—´ï¼‰ã€‚

![unicode](./imgs/char-code/unicode-01.png)

### å­—ç¬¦ä¸ç ç‚¹

> æŠ½è±¡å­—ç¬¦æ˜¯ç»„ç»‡ã€ç®¡ç†æˆ–è¡¨ç°æ–‡æœ¬æ•°æ®çš„ä¿¡æ¯å•ä½ã€‚

`Unicode` ä¸­çš„å­—ç¬¦æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæ¯ä¸ªæŠ½è±¡å­—ç¬¦éƒ½æœ‰å¯¹åº”çš„åç§°ï¼ˆæ¯”å¦‚ï¼š`LATIN SMALL LETTER A`ï¼‰ï¼Œæ­¤å¤–è¿˜æœ‰å¯¹åº”çš„å›¾åƒè¡¨ç°å½¢å¼ï¼Œå«åšå­—å½¢ï¼ˆ`glyph`ï¼‰ï¼Œæ¯”å¦‚ `a`ï¼Œ `ğŸš€`ï¼Œ`å±Œ`...

> è¿™é‡Œæœ‰ä¸€ä¸ª[å·¥å…·ç½‘ç«™](https://codepoints.net/U+0061)å¯ä»¥æŸ¥è¯¢å­—ç¬¦çš„å…·ä½“ä¿¡æ¯ã€‚

![unicode](./imgs/char-code/character.png)

ç ç‚¹çš„æ¦‚å¿µä¸Šè¾¹å·²ç»æåˆ°äº†ï¼Œå°±æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ˜¯æŸäº›æŠ½è±¡å­—ç¬¦çš„å”¯ä¸€æ ‡è¯†ã€‚å…¶è¡¨ç°å½¢å¼æ˜¯ ```U+<hex>```ï¼Œ`U+` æ˜¯ä»£è¡¨ `Unicode` çš„å‰ç¼€ï¼Œè€Œ `<hex>` æ˜¯ä¸€ä¸ª 16 è¿›åˆ¶æ•°ã€‚

æ¯”å¦‚ï¼š`a` çš„ç ç‚¹ `U+0061`ï¼Œ`ğŸš€` çš„ç ç‚¹ `U+1F680`

è¿™é‡Œå¤ä¹ ä¸€ä¸‹ï¼šæ•°å€¼çš„è¿›åˆ¶ï¼Œæ›´å¤šè¯·å‚è€ƒ[è¿™é‡Œ](https://javascript.ruanyifeng.com/grammar/number.html)

- åè¿›åˆ¶ï¼šæ²¡æœ‰å‰å¯¼ `0` çš„æ•°å€¼ã€‚
- å…«è¿›åˆ¶ï¼šæœ‰å‰ç¼€ `0o` æˆ– `0O` çš„æ•°å€¼ï¼Œæˆ–è€…æœ‰å‰å¯¼ `0`ã€ä¸”åªç”¨åˆ° `0-7` çš„å…«ä¸ªé˜¿æ‹‰ä¼¯æ•°å­—çš„æ•°å€¼ã€‚
- åå…­è¿›åˆ¶ï¼šæœ‰å‰ç¼€ `0x` æˆ– `0X` çš„æ•°å€¼ã€‚
- äºŒè¿›åˆ¶ï¼šæœ‰å‰ç¼€ `0b` æˆ– `0B` çš„æ•°å€¼

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`JavaScript` å†…éƒ¨ä¼šè‡ªåŠ¨å°†å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶è½¬ä¸ºåè¿›åˆ¶ã€‚

```js
// ç‰¢è®°ç ç‚¹å°±æ˜¯ä¸€ä¸ªæ•°å­—ï¼ï¼ï¼Œä¸ç®¡æ˜¯å…«è¿›åˆ¶è¿˜æ˜¯åè¿›åˆ¶è¿˜æ˜¯åå…­è¿›åˆ¶ã€‚
String.fromCodePoint(0x0061) // a
String.fromCodePoint(97) // a
String.fromCodePoint(0141) // a

String.fromCodePoint(0x1F680) // ğŸš€
```

é‚£ä¹ˆ `Unicode` æœ‰å¤šå°‘ä¸ªå­—ç¬¦ï¼Ÿåˆæœ‰å¤šå°‘ä¸ªç ç‚¹ï¼Ÿ

__æˆªæ­¢ 2018å¹´12æœˆ10æ—¥ï¼ŒUnicode 12.0 ç‰ˆæœ¬ï¼Œåˆ†é…äº†ç ç‚¹çš„å­—ç¬¦å…±æœ‰ 137,929 ä¸ªã€‚__

ç ç‚¹çš„å–å€¼èŒƒå›´æ˜¯ `U+0000` åˆ° `U+10FFFF`ã€‚ä¹Ÿå°±æ˜¯è¯´ç ç‚¹æœ‰å¤šè¾¾ `1114111` ä¸ªï¼

```js
console.log(0x10FFFF) // 1114111
```

âš ï¸ï¼šå¹¶ä¸æ˜¯æ¯ä¸ªç ç‚¹éƒ½åˆ†é…äº†å­—ç¬¦çš„ï¼

### `Unicode` å¹³é¢

ç ç‚¹çš„å–å€¼èŒƒå›´æ˜¯ `U+0000` åˆ° `U+10FFFF`ã€‚é€šè¿‡ `Unicode` å¹³é¢å¯¹ç ç‚¹è¿›è¡Œåˆ’åˆ†ã€‚

__`Unicode` å¹³é¢æ˜¯ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µã€‚è¡¨ç¤ºçš„æ˜¯ä» `U+n0000` åˆ° `U+nFFFF`çš„åŒºé—´ï¼Œæ¯ä¸ªå¹³é¢æœ‰ `65536`(`0xFFFF`) ä¸ªè¿ç»­ç ç‚¹ï¼Œ`n` çš„å–å€¼ä» `0`(`0x00`) åˆ° `16`(`0x10`)ï¼Œæ‰€ä»¥ä¸€å…±æœ‰ `17` ä¸ªå¹³é¢ã€‚__

```js
// æ¯ä¸ªå¹³é¢æœ‰å¤šå°‘ä¸ªè¿ç»­ç ç‚¹
console.log(0xFFFF) // 65535ï¼Œä» 0 åˆ° 65535 ä¸€å…±æœ‰ 65536 ä¸ªç ç‚¹

// å¤šå°‘ä¸ªå¹³é¢
console.log(0x10) // 16ï¼Œä» 0 åˆ° 16 ä¸€ä¸ªæœ‰ 17 ä¸ªå¹³é¢
```

ä¹Ÿå°±æ˜¯æ‹†åˆ†æˆäº† 17 ç»„å¹³é¢ï¼š

- å¹³é¢ `0`ï¼ˆè¯¥å¹³é¢ä¹Ÿè¢«å«åš `BMP`ï¼‰: åŒ…å«ä» `U+0000` åˆ° `U+FFFF` çš„ä»£ç ç‚¹ã€‚
- å¹³é¢ `1`ï¼ˆè¯¥å¹³é¢ä¹Ÿè¢«å«åš `SMP`ï¼‰: åŒ…å«ä» `U+10000` åˆ° `U+1FFFF` çš„ä»£ç ç‚¹ã€‚
- ... 
- å¹³é¢ `15`ï¼ˆè¯¥å¹³é¢ä¹Ÿè¢«å«åš `PUA-A`ï¼‰: åŒ…å«ä» `U+F0000` åˆ° `U+FFFFF` çš„ä»£ç ç‚¹ã€‚
- å¹³é¢ `16`ï¼ˆè¯¥å¹³é¢ä¹Ÿè¢«å«åš `PUA-B`ï¼‰: åŒ…å«ä» `U+100000` åˆ° `U+10FFFF` çš„ä»£ç ç‚¹ã€‚

æ•´ç†äº†ä¸€ä¸ªè¡¨æ ¼ï¼š

| å¹³é¢ | ç ç‚¹åŒºé—´ | ä¸­æ–‡åç§° | è‹±æ–‡åç§° |
| ------ | ------ | ------ | ------ |
| å¹³é¢ 0 | U+0000 - U+FFFF | åŸºæœ¬å¤šæ–‡ç§å¹³é¢ | Basic Multilingual Planeï¼Œç®€ç§°BMP |
| å¹³é¢ 1 | U+10000 - U+1FFFF | å¤šæ–‡ç§è¡¥å……å¹³é¢ | Supplementary Multilingual Planeï¼Œç®€ç§°SMP |
| å¹³é¢ 2 | U+20000 - U+2FFFF | è¡¨æ„æ–‡å­—è¡¥å……å¹³é¢ | Supplementary Ideographic Planeï¼Œç®€ç§°SIP |
| å¹³é¢ 3 | U+30000 - U+3FFFF | è¡¨æ„æ–‡å­—ç¬¬ä¸‰å¹³é¢ï¼ˆæœªæ­£å¼ä½¿ç”¨ï¼‰ | Tertiary Ideographic Planeï¼Œç®€ç§°TIP |
| å¹³é¢ 4 è‡³ 13 | U+40000 - U+DFFFF | å°šæœªä½¿ç”¨ |  |
| å¹³é¢ 14 | U+E0000 - U+EFFFF | ç‰¹åˆ«ç”¨é€”è¡¥å……å¹³é¢ | Supplementary Special-purpose Planeï¼Œç®€ç§°SSP |
| å¹³é¢ 15 | U+F0000 - U+FFFFF | ä¿ç•™ä½œä¸ºç§äººä½¿ç”¨åŒºï¼ˆAåŒºï¼‰ | Private Use Area-Aï¼Œç®€ç§°PUA-A |
| å¹³é¢ 16 | U+100000 - U+10FFFF | ä¿ç•™ä½œä¸ºç§äººä½¿ç”¨åŒºï¼ˆBåŒºï¼‰ | Private Use Area-Bï¼Œç®€ç§°PUA-B |

å›¾å½¢åŒ–è¡¨ç¤ºï¼š

![unicode](./imgs/char-code/bmp.jpeg)

å¯¹äº `BMP` ä¹‹å¤–çš„å¹³é¢å¯ä»¥ç»Ÿç§°ä¸ºè¡¥å……å¹³é¢ã€‚

`BMP` å¹³é¢ç ç‚¹å–å€¼ä» `U+0000` åˆ° `U+FFFF`ï¼Œæœ€å¤šå¯ä»¥æœ‰ 4 ä½ 16 è¿›åˆ¶æ•°å­—ã€‚å¤§å¤šæ•°ç°ä»£è¯­è¨€çš„å­—ç¬¦éƒ½åœ¨ `BMP` å¹³é¢å†…ã€‚åœ¨è¿™ä¸ªåŒºé—´å†…çš„å¾ˆå¤šæ“ä½œï¼Œæ¯”å¦‚è·å–å­—ç¬¦é•¿åº¦ã€åè½¬éƒ½æ²¡é—®é¢˜ã€‚ä½†æ˜¯åœ¨è¡¥å……å¹³é¢çš„åŒºé—´ä¸­ï¼Œå°±æœ‰å¾ˆå¤šå‘ç‚¹äº†ã€‚

### `Code Unit`

`Unicode` å®šä¹‰äº†å­—ç¬¦åˆ°ç ç‚¹çš„æ˜ å°„ï¼Œè¿™ä»ç„¶æ˜¯æŠ½è±¡çš„ï¼Œè®¡ç®—æœºä¾ç„¶æ— æ³•ç†è§£ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡å­—ç¬¦ç¼–ç ï¼ˆæ¯”å¦‚ï¼šUTF-8ï¼‰å°†æŠ½è±¡çš„ç ç‚¹è½¬æ¢ä¸ºç‰©ç†å±‚é¢çš„æ¯”ç‰¹åºåˆ—ã€‚

è¿™ä¸ªç‰©ç†å±‚é¢çš„æ¯”ç‰¹åºåˆ—å°±å«åšç å…ƒï¼ˆ`code unit`ï¼‰ï¼Œå®ƒæ‰æ˜¯æœ€ç»ˆèƒ½å¤Ÿè¢«è®¡ç®—æœºç†è§£çš„å½¢å¼ï¼Œæ˜¯è®¡ç®—æœºç‰©ç†å±‚é¢å­˜å‚¨æ–‡æœ¬ä¿¡æ¯çš„åŸºæœ¬å•å…ƒã€‚

è¿™é‡Œæœ‰ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¸¸å¸¸ç”¨åˆ° `UTF-8` æˆ–è€… `UTF-16`ï¼Œå¯èƒ½éƒ¨åˆ†ç«¥é‹ä¹ŸçŸ¥é“å‰è€…çš„ä¸­è‹±æ–‡å…¨åï¼š8 ä½ç»Ÿä¸€ç è½¬æ¢æ ¼å¼ï¼ˆ`Unicode Transformation Format - 8`ï¼‰ã€‚

é‚£ä¹ˆï¼Œè¿™é‡Œçš„ `8`ï¼ˆæˆ–è€… `16`ï¼‰ æŒ‡çš„æ˜¯ä»€ä¹ˆ?

**8 å…¶å®æŒ‡çš„å°±æ˜¯ç å…ƒï¼ˆ`code unit`ï¼‰çš„å¤§å°ï¼ˆ`8 bit`ï¼‰ï¼é€šä¿—çš„è¯´å°±æ˜¯ `UTF-8` çš„æœ€å°å•ä½å°±æ˜¯ 1 å­—èŠ‚ï¼Œ`UTF-16` çš„æœ€å°å•ä½æ˜¯ 2 å­—èŠ‚ã€‚**

#### `UTF-8`

`UTF-8` æ˜¯é’ˆå¯¹ `Unicode` çš„å¯å˜é•¿å­—ç¬¦ç¼–ç ï¼Œç”¨ 1-4 ä¸ªå­—èŠ‚ç¼–ç  `Unicode` å­—ç¬¦ã€‚

> 2003å¹´11æœˆ `UTF-8` è¢« `RFC 3629` é‡æ–°è§„èŒƒï¼Œåªèƒ½ä½¿ç”¨åŸæ¥ `Unicode` å®šä¹‰çš„åŒºåŸŸï¼Œ`U+0000` åˆ° `U+10FFFF`ï¼Œä¹Ÿå°±æ˜¯è¯´**æœ€å¤š 4 ä¸ªå­—èŠ‚**

**å¯å˜é•¿**çš„å¥½å¤„åœ¨äºå¯¹ç©ºé—´å¼€é”€çš„ä¼˜åŒ–ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äºä¸€ä¸ª `ASCII`å­—ç¬¦ï¼ˆæ¯”å¦‚ä¸€ä¸ªè‹±æ–‡å­—æ¯ï¼‰ï¼Œåªéœ€è¦ 7 `bit` è¡¨ç¤ºï¼Œä½†æ˜¯ `Unicode` æœ€å°‘éƒ½æ˜¯ 2 ä¸ªå­—èŠ‚è¡¨ç¤ºçš„ï¼Œè¿™å°±é€ æˆäº†ç©ºé—´çš„æµªè´¹ï¼

> UTF-32 å°±æ˜¯å›ºå®šé•¿åº¦å­—ç¬¦ç¼–ç ï¼Œè€Œä¸”æœ€å°å•ä½æ˜¯ 4 å­—èŠ‚ã€‚æ‰€ä»¥......å®ƒåœ¨æŸäº›åœºæ™¯è¢«ç¦æ­¢ä½¿ç”¨ã€‚

`UTF-8` çš„ç¼–ç è§„åˆ™ï¼š

> `ASCII`ï¼š
>   å¦‚å‰æ–‡æ‰€è¯´ï¼Œ1 ä¸ªå­—èŠ‚å¯ä»¥è¡¨ç¤º 256ï¼ˆ`Math.pow(2, 8)`ï¼‰ç§çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥è¡¨ç¤º 256 ä¸ªå­—ç¬¦ã€‚</br>
>   `ASCII` ç ä¸€å…±è§„å®šäº† 128 ä¸ªå­—ç¬¦çš„ç¼–ç ï¼ˆä½ å¯ä»¥ç‚¹å‡»[æŸ¥çœ‹æ‰€æœ‰ `ASCII` ç ](http://tool.oschina.net/commons?type=4)ï¼‰ï¼Œè¿™ 128 ä¸ªç¬¦å·åªå ç”¨äº†ä¸€ä¸ªå­—èŠ‚çš„åé¢ 7 ä½ï¼ˆ2 çš„ 7æ¬¡æ–¹ = 128ï¼‰ï¼Œæœ€å‰é¢çš„ 1 ä½ç»Ÿä¸€è§„å®šä¸º 0ã€‚

1. å¯¹äº `128` ä¸ª `ASCII` å­—ç¬¦åªéœ€ä¸€ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œå­—èŠ‚çš„ç¬¬ä¸€ä½è¡¥ 0ï¼Œåé¢ 7 ä½ä¸ºè¿™ä¸ªå­—ç¬¦çš„ `ASCII` äºŒè¿›åˆ¶æ•°ã€‚`Unicode` èŒƒå›´ä¸º `U+0000` è‡³ `U+007F`ã€‚
2. å¯¹äº `n` å­—èŠ‚ï¼ˆ `n > 1` ï¼‰çš„å­—ç¬¦ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰ `n` ä½éƒ½è®¾ä¸º 1ï¼Œç¬¬ `n+1` ä½è®¾ä¸º 0ï¼Œåé¢å­—èŠ‚çš„å‰ä¸¤ä½ä¸€å¾‹è®¾ä¸º 10ã€‚å‰©ä¸‹çš„æ²¡æœ‰æåŠçš„äºŒè¿›åˆ¶ä½ï¼Œå…¨éƒ¨ä¸ºè¿™ä¸ªç¬¦å·çš„ `Unicode` ç äºŒè¿›åˆ¶æ•°ã€‚`Unicode` èŒƒå›´ç”± `U+0080` èµ·

å¦‚ä¸‹è¡¨ï¼š

| Unicode èŒƒå›´ï¼ˆ16è¿›åˆ¶ï¼‰ | UTF-8 ç¼–ç ï¼ˆ2è¿›åˆ¶ï¼‰ | å­—èŠ‚æ•° |
| ------ | ------ | ------ |
| U+0000 ~ U+007F | 0xxxxxxx | 1å­—èŠ‚ |
| U+0080 ~ U+07FF | 110xxxxx 10xxxxxx | 2å­—èŠ‚ |
| U+0800 ~ U+FFFF | 1110xxxx 10xxxxxx 10xxxxxx | 3å­—èŠ‚ |
| U+10000 ~ U+10FFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx | 4å­—èŠ‚ |

> å°±æ˜¯è¯´å•å­—èŠ‚çš„æƒ…å†µå…¼å®¹ `ASCII`ï¼Œé¦–ä½è¡¥ 0ã€‚å¤šå­—èŠ‚çš„æ—¶å€™æœ‰å‡ ä¸ªå­—èŠ‚ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚å°±ä»¥å‡ ä¸ª 1 å¼€å¤´ç„¶åè·Ÿä¸ª 0ï¼Œå…¶ä½™å­—èŠ‚éƒ½æ˜¯ä»¥ 10 å¼€å¤´ã€‚

ä»¥æ±‰å­— `å±Œ` ä¸ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•å®ç° `UTF-8` ç¼–ç ã€‚

`å±Œ`çš„ `Unicode` æ˜¯ `U+5C4C`ï¼ˆäºŒè¿›åˆ¶æ•° `101110001001100`ï¼‰ï¼Œæ®è¡¨ï¼Œ`U+5C4C` å¤„åœ¨ç¬¬ä¸‰è¡Œçš„èŒƒå›´å†…ï¼ˆ`U+0800 ~ U+FFFF`ï¼‰ï¼Œå› æ­¤`å±Œ`çš„ `UTF-8` ç¼–ç éœ€è¦ä¸‰ä¸ªå­—èŠ‚ï¼Œå³æ ¼å¼ `1110xxxx 10xxxxxx 10xxxxxx`ã€‚ç„¶åï¼Œä»`å±Œ`çš„æœ€åä¸€ä¸ªäºŒè¿›åˆ¶ä½å¼€å§‹ï¼Œä¾æ¬¡ä»åå‘å‰å¡«å…¥æ ¼å¼ä¸­çš„ `x`ï¼Œå¤šå‡ºçš„ä½è¡¥ `0`ã€‚è¿™æ ·å°±å¾—åˆ° `UTF-8` ç¼–ç ï¼ˆäºŒè¿›åˆ¶ï¼‰æ˜¯ `11100101(E5) 10110001(B1) 10001100(8C)`ï¼Œè½¬æ¢æˆåå…­è¿›åˆ¶å°±æ˜¯ `E5B18C`ã€‚

æ›´å¤šä¾‹å­ï¼š

| å­—ç¬¦ | ç ç‚¹ | ç ç‚¹ï¼ˆäºŒè¿›åˆ¶ï¼‰ | äºŒè¿›åˆ¶ä¸åå…­è¿›åˆ¶ | UTF-8 |
| ------ | ------ | ------ | ------ | ------ |
| a | U+0061 | 1100001 | 110(`6`)0001(`1`) | 01100001 |
| ğŸ”¥ | U+1F525 | 11111010100100101 | 1(`1`)1111(`F`)0101(`5`)0010(`2`)0101(`5`) | 11110000 100**11111** 10**010100** 10**100101** |

æ‰€ä»¥ ğŸ”¥ çš„ UTF-8 è¡¨ç°å½¢å¼ä¸º `F0 9F 94 A5`ã€‚

![unicode](./imgs/char-code/utf-8.png)

#### `UTF-16`

é¦–å…ˆ `UTF-16` ä¹Ÿæ˜¯å¯å˜é•¿çš„å­—ç¬¦ç¼–ç (`16` è¡¨ç¤ºç å…ƒçš„å¤§å°ï¼Œè¡¨ç¤ºä¸€ä¸ªç å…ƒæ˜¯ `2` ä¸ªå­—èŠ‚å¤§å°)ï¼Œä½†æ˜¯å…¶æœ€å°å•ä½æ˜¯ `16` ä½ä¹Ÿå°±æ˜¯ `2` ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥ä¸å…¼å®¹ `ASCII`ã€‚

å…¶ç¼–ç æ–¹å¼ä¼šå¼•å‡ºæˆ‘ä»¬ä¸‹è¾¹ä¼šæåˆ°çš„`ä»£ç†å¯¹`ï¼Œè™½ç„¶ä¸å¾—ä¸æ‰¿è®¤è¿™æ˜¯ä¸€ä¸ªå¾ˆå¦™çš„è®¾è®¡ï¼Œä½†æ˜¯ä¹Ÿæ˜¯åŸ‹å‘ä¹‹å¤„ï¼

ä½† `UTF-16` çš„å­˜å‚¨æ•ˆç‡å¾ˆé«˜ã€‚å› ä¸º `99%` éœ€è¦å¤„ç†çš„å­—ç¬¦éƒ½å±äº `BMP`ï¼Œåªéœ€è¦ 1 ä¸ªç å…ƒã€‚

1. å¯¹äº `BMP` å¹³é¢çš„ç ç‚¹ï¼Œåªéœ€è¦ 1 ä¸ªç å…ƒå°±å¯ä»¥è¡¨ç¤º(```Math.pow(2, 16) === 65536```)
2. å¯¹äºè¾…åŠ©å¹³é¢çš„ï¼Œå°±æœ‰ä¸€ä¸ªä»£ç†å¯¹æ¥è¡¨ç¤ºï¼ˆ2 ä¸ªç å…ƒï¼‰ã€‚

æ•´ç†ä¸€ä¸‹ï¼š

| å¹³é¢ | ç ç‚¹èŒƒå›´ | UTF-16 |
| ------ | ------ | ------ |
| BMP | U+0000 ~ U+FFFF | ä¸€ä¸ªç å…ƒæå®šï¼ˆ2 å­—èŠ‚ï¼‰ |
| è¡¥å……å¹³é¢ | U+10000 ~ U+10FFFF | ä¸¤ä¸ªç å…ƒæå®šï¼ˆ1ä¸ªé«˜ä½ä»£ç†ï¼Œ1ä¸ªä½ä½ä»£ç†ï¼‰ |

è®¡ç®—é«˜ä½ä½çš„æ­¥éª¤ï¼š

1. è¡¥å……å¹³é¢çš„ç ç‚¹ - `0x10000` = `20 bit`çš„å€¼((`(0x10FFFF - 0x10000).toString(2)`)ï¼Œç„¶åå°†è¿™äºŒåä½åˆ†æˆä¸¤ä»½ï¼Œå‰è€…ä¸ºé«˜ 10 ä½ï¼Œåè€…ä¸ºä½ 10ä½ã€‚
2. é«˜ 10 ä½å’Œä½ 10 ä½çš„å–å€¼èŒƒå›´ä¸€æ · `0 ~ 0x3FF` (```Math.pow(2, 10) = 1024``` 1024 çš„ 16 è¿›åˆ¶ä¸º `0x400`ï¼Œæ‰€ä»¥å–å€¼ä» `0 ~ 0x3FF`)ï¼Œç„¶åé«˜ä½å€¼åŠ ä¸Š `0xD800`ï¼Œä½ä½åŠ ä¸Š `0xDC00`ï¼Œå¾—åˆ°é«˜ä½ä»£ç†å’Œä½ä½ä»£ç†å€¼ã€‚

è¯´æ˜é«˜ä½ä»£ç†çš„åŒºé—´æ˜¯ `0xD800 ~ 0xDBFF`ï¼Œä½ä½ä»£ç†çš„åŒºé—´æ˜¯ `0xDC00 ~ 0xDFFF`

```js
// è®¡ç®—é«˜ä½ä½ä»£ç†èŒƒå›´
0xD800 ~ (0xD800 + 0x3FF = 0xDBFF)
0xDC00 ~ (0xDC00 + 0x3FF = 0xDFFF)
```

è¿ç”¨ï¼š

ğŸ˜Š çš„ç ç‚¹ä¸º `U+1F60A`ï¼Œä¸åœ¨ `BMP` å¹³é¢ä¸Šï¼Œå› æ­¤ä¸èƒ½ç”¨ä¸€ä¸ªç å…ƒè¡¨ç¤ºï¼Œéœ€è¦ä½¿ç”¨ä»£ç†å¯¹ã€‚

```js
// è·å–ä»£ç†å¯¹
const getSurrogatePair = astralCodePoint => {
  let highSurrogate = Math.floor((astralCodePoint - 0x10000) / 0x400) + 0xD800
  let lowSurrogate = (astralCodePoint - 0x10000) % 0x400 + 0xDC00
  return [highSurrogate, lowSurrogate]
}

// æ ¹æ®ä»£ç†å¯¹è·å–ç ç‚¹
const getAstralCodePoint = (highSurrogate, lowSurrogate) => {
  return (highSurrogate - 0xD800) * 0x400 + lowSurrogate - 0xDC00 + 0x10000
}

// è®¡ç®— ğŸ˜Š çš„ä»£ç†å¯¹
getSurrogatePair(0x1F60A) // [0xD83D, 0xDE0A]

getAstralCodePoint(0xD83D, 0xDE0A) // ox1F60A
```

æ‰€ä»¥åœ¨å¾—å‡ºå…¶ 16 è¿›åˆ¶çš„è¡¨ç°å½¢å¼ä¸º `D8 3D DE 0A`

åœ¨ç½‘ç«™æŸ¥è¯¢ä¸€ä¸‹ï¼Œ[éªŒè¯æˆ‘ä»¬è®¡ç®—çš„ç»“æœæ˜¯å¦æ­£ç¡®](https://codepoints.net/U+1F60A)

![unicode](./imgs/char-code/utf-16.png)

##### `BOM`

è¿™ä¸ªä¹Ÿæ˜¯ä¸ªè¯¥æ­»çš„å‘ï¼

`BOM`ï¼šå­—èŠ‚æ ‡è®°é¡ºåºï¼ˆByte Order Markï¼‰ï¼Œå‡ºç°åœ¨æ–‡æœ¬æ–‡ä»¶å¤´éƒ¨ï¼Œ`Unicode` ç¼–ç æ ‡å‡†ä¸­ç”¨äºæ ‡è®°å­—èŠ‚é¡ºåºçš„(ç¼–ç æ–¹å¼)ã€‚

`UTF-8` ä»¥å•å­—èŠ‚ä¸ºå•ä½ï¼Œä¸å­˜åœ¨å­—èŠ‚åºçš„é—®é¢˜ï¼Œä½†æ˜¯ `UTF-16` ç å…ƒå¤§å°ä¸¤ä¸ªå­—èŠ‚ï¼Œå°±å­˜åœ¨åˆ¤æ–­è°å‰è°åçš„é—®é¢˜ã€‚

æ‰€ä»¥é€šè¿‡åŠ ä¸€ä¸ª `ZERO WIDTH NO-BREAK SPACE` å­—ç¬¦ï¼Œå…¶å¯¹åº”çš„ç¼–ç ä¸º `FE FF`ï¼ˆ`UTF-8` å¯¹åº” `EF BB BF`ï¼Œ`windows` ç”¨å…¶è¡¨ç¤ºç¼–ç æ–¹å¼æ˜¯ç”¨çš„ `UTF-8`ï¼‰

å¦‚æœæ ‡è¯†ç¬¦ä¸º `U+FFFE` åˆ™è¡¨ç¤ºå¤§ç«¯å­—èŠ‚åº(Big endian, é«˜ä½åœ¨å‰)ï¼Œå¦‚æœæ ‡è¯†ç¬¦ä¸º `U+FEFF` åˆ™è¡¨ç¤ºå°ç«¯å­—èŠ‚åºï¼ˆLittle endianï¼Œé«˜ä½åœ¨åï¼‰ã€‚

```js
// https://github.com/sindresorhus/strip-bom

'use strict'
const stripBom = input => {
  if(typeof input !== 'string'){
    throw new Error(`except a string, but got ${typeof input}`)
  }

  // Catches EFBBBF (UTF-8 BOM) because the buffer-to-string
  // conversion translates it to FEFF (UTF-16 BOM)
  if(input.charCodeAt(0) === 0xFEFF){
    input.slice(1)
  }

  return input
}
```
ç›¸ä¿¡ä½ çœ‹ä¸Šè¾¹ `sindresorhus` å¤§ç¥çš„ä»£ç ä¹Ÿæœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆå°±åˆ¤æ–­äº† `U+FEFF` è¿™ä¸€ç§æƒ…å†µï¼Œä¸æ˜¯è¿˜æœ‰å¤§ç«¯åºä»¥åŠ `UTF-8` çš„ `EF BB BF`ï¼Ÿ

1. **`Unicode` ä¸­ [`U+FFFE`](https://codepoints.net/U+FFFE) å°†ä¿è¯ä¸è¢«åˆ†é…å­—ç¬¦ï¼Œæ‰€ä»¥åªéœ€è¦è€ƒè™‘ `U+FEFF`**
2. æ ¹æ®è§„èŒƒå®šä¹‰ï¼š`String` ç±»å‹å°±æ˜¯é‡‡ç”¨ `UTF-16` ç¼–ç çš„ï¼Œæ‰€ä»¥å‡½æ•°ä¸­æœ‰ä¸ªç±»å‹åˆ¤æ–­ã€‚å¦‚æœæ˜¯ `Buffer` ç±»å‹çš„è¯ï¼Œå°±è¦åˆ¤æ–­ `UTF-8` çš„æƒ…å†µäº†ã€‚

```js
// Buffer ä½¿ç”¨ UTF-8
if(Buffer.isBuffer(input)) {
  if (result[0] === 0xef && result[1] === 0xbb && result[2] === 0xbf) {
    return Buffer.slice(3);
  }
}
```

#### `UTF-8` ä¸ `UTF-16` çš„æ¯”è¾ƒ

è¿™ä¸ªå¯ä»¥ç›´æ¥æˆ³[è¿™é‡Œ](https://www.zhihu.com/question/35214880)ï¼Œå°±ä¸èµ˜è¯‰äº†ã€‚

`UTF-16` å› ä¸ºå†å²åŸå› ï¼Œç°åœ¨å·²ç»åœ¨å¾ˆå¤šåœ°æ–¹ä½¿ç”¨ï¼Œæƒ³è¦å¤§åˆ€é˜”æ–§çš„æ”¹å˜å·²ç»ä¸å¯èƒ½äº†ã€‚

Tipsï¼š

ç†è§£äº†å­—ç¬¦ç¼–ç ä¹‹åï¼Œæƒ³æƒ³å¸¸ç”¨çš„ `Base64`ï¼Œå…¶å®ä¹Ÿæ˜¯å¦‚å‡ºä¸€è¾™çš„æ–¹å¼ã€‚

[base64](https://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001399413803339f4bbda5c01fc479cbea98b1387390748000)

[Base64 çš„åŸç†ã€å®ç°åŠåº”ç”¨](https://juejin.im/post/5b7d50106fb9a019d7475785)

[Base64ç¼–ç åŸç†ä¸åº”ç”¨](http://blog.xiayf.cn/2016/01/24/base64-encoding/)

### è½¬ä¹‰åºåˆ—

`JavaScript` ä¸­æœ‰ 3 ç§è½¬ä¹‰æ¨¡å¼

1. 16 è¿›åˆ¶è½¬ä¹‰

è¯­æ³•ï¼š`\x<hex>`ï¼Œ`\x` ä¸ºå‰ç¼€ï¼Œåé¢è·Ÿä¸€ä¸ª 2 ä½çš„ 16 è¿›åˆ¶æ•°

```js
console.log('\x4A\x61vaScript') // => JavaScript
console.log('\x31') // => 1
```

**16 è¿›åˆ¶è½¬ä¹‰åºåˆ—åªèƒ½ç¼–ç ä» `U+00` åˆ° `U+FF` çš„æœ‰é™æ•°é‡çš„ä»£ç ç‚¹ï¼Œå› ä¸ºå®ƒåªèƒ½æœ‰2ä½æ•°å­—ã€‚**

2. `Unicode` è½¬ä¹‰åºåˆ—

è¯­æ³•ï¼š`\u<hex>`ï¼Œ`\u` ä¸ºå‰ç¼€ï¼Œåé¢è·Ÿä¸€ä¸ª 4 ä½çš„ 16 è¿›åˆ¶æ•°

```js
console.log('\u0065') // => e

// è¡¥å……å¹³é¢çš„éœ€è¦ä½¿ç”¨ä»£ç†å¯¹è¡¨ç¤ºï¼Œæ¯”å¦‚ ğŸ”¥ï¼Œå…¶ç ç‚¹ä¸º U+1F525
console.log('this is \u1F525') // => this is á½’5ï¼Œ\u åªèƒ½è·Ÿ 4 ä½ 16 è¿›åˆ¶æ•°ï¼Œæ‰€ä»¥è¿™é‡Œä¹±ç äº†ï¼Œéœ€è¦ä½¿ç”¨ä»£ç†å¯¹æ­£ç¡®è¡¨ç¤º ğŸ”¥
console.log('this is \uD83D\uDD25') // => this is ğŸ”¥
```

`Unicode` è½¬ä¹‰åºåˆ—å¯ä»¥è¡¨ç¤ºçš„èŒƒå›´æ˜¯ `U+0000` åˆ° `U+FFFF`(ä¹Ÿå°±æ˜¯æ•´ä¸ª `BMP` å¹³é¢ä¸­çš„ç ç‚¹)ã€‚

å¦‚æœæ˜¯è¡¥å……å¹³é¢çš„ç ç‚¹éœ€è¦ä½¿ç”¨ä¸¤ä¸ªè¿ç»­çš„ `Unicode` è½¬ä¹‰åºåˆ—è¡¨ç¤ºï¼ˆä»£ç†å¯¹ï¼‰ã€‚

3. ä»£ç ç‚¹è½¬ä¹‰åºåˆ—

`ES6` æ–°å¢ï¼Œç›®çš„æ˜¯ä¸ºäº†è¡¨ç¤ºæ•´ä¸ª `Unicode` ç©ºé—´å†…çš„æ‰€æœ‰ç ç‚¹ã€‚

è¯­æ³•ï¼š`\u{<hex>}`ï¼Œ`<hex>` æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 1 è‡³ 6 ä½çš„ 16 è¿›åˆ¶æ•°ã€‚

```js
console.log('\u{0065}') // => e
console.log('this is \u{1F525}') // => this is ğŸ”¥
console.log('\u{1F525}' === '\uD83D\uDD25') // => true
```

è¿™ç§æ–¹å¼ä¸ç”¨å»å†™ä»£ç†å¯¹æ¥è¡¨ç¤ºè¡¥å……å¹³é¢çš„ç ç‚¹ï¼Œä½†æ˜¯å…¶å®è´¨è¿˜æ˜¯ä½¿ç”¨äº†ä»£ç†å¯¹è¡¨ç¤ºå­—ç¬¦çš„ï¼Œåªæ˜¯ä¸€å±‚è¯­æ³•ç³–ï¼Œå†™èµ·æ¥æ›´æ–¹ä¾¿è€Œå·²ã€‚

### å‘ç‚¹

å¤§å¤šæ•° `JavaScript` å¼•æ“é‡‡ç”¨ `UTF-16` ç¼–ç å­—ç¬¦ã€‚å…¶ç¼–ç ç‰¹ç‚¹ç»™æˆ‘ä»¬é—ç•™äº†ä¸€äº›é—®é¢˜ã€‚

`Question 1`:

```js
// è¾“å‡ºç»“æœä¸ºï¼Ÿ
'ğŸ”¥'.length
'ğŸ”¥'.slice(1)
/^.$/.test('ğŸ”¥')
[...'ğŸ”¥'].reverse().join('')
```

ä¸ç¡®å®šçš„è¯ï¼Œå°±æ”¾è¿›æ§åˆ¶å°è¯•è¯•å§ï¼è¦æƒ³å½»åº•ç†è§£è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚

#### ä»£ç†å¯¹

`UTF-16` çš„ç¼–ç è§„åˆ™ä¸­å·²ç»æåˆ°äº†ï¼Œè¿™é‡Œå†æ€»ç»“ä¸€ä¸‹ï¼š

æˆ‘ä»¬å·²ç»çŸ¥é“ `UTF-16` çš„ç å…ƒå•ä½æ˜¯ `16 bit`ï¼Œåœ¨è¡¨ç¤ºé™¤ `BMP` ä¹‹å¤–çš„è¡¥å……å¹³é¢å†…çš„ç ç‚¹æ—¶ï¼Œéœ€è¦ `21 bit`(`(0x10FFFF).toString(2)`)ï¼Œæ‰€ä»¥å–å·§çš„é‡‡ç”¨äº†ä»£ç†å¯¹æ¥è¡¨ç¤ºã€‚

ç”¨ä¸¤ä¸ªç å…ƒè¡¨ç¤ºä¸€ä¸ªç ç‚¹ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯é«˜ä½ä»£ç†ç å…ƒï¼Œä¸€ä¸ªæ˜¯ä½ä½ä»£ç†ç å…ƒï¼ˆäº‹å®è¯æ˜ï¼Œè¿™æ ·å·§ç§’æ˜¯å·§å¦™ï¼ŒåŸ‹å‘ä¹Ÿä¸å«ç³Šï¼ï¼‰ã€‚

```js
// å‰é¢æˆ‘ä»¬å·²ç»è®¡ç®—å‡ºäº† U+1F600 çš„ä»£ç†å¯¹ä¸º 0xD83D, 0xDE0Aï¼Œæ‰€ä»¥
console.log('\uD83D\uDE00') // ğŸ˜€
```

#### ç»„åˆå­—ç¬¦

ç›¸ä¿¡å¤§å®¶éƒ½è§è¿‡` aÌŠ `è¿™æ ·çš„å­—ç¬¦å§ï¼å®ƒåœ¨ä¸¹éº¦è¯­ç³»ä¸­æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„æ•´ä½“ï¼Œæ˜¯ç”±ä¸¤ä¸ªç ç‚¹ç»„åˆè¡¨ç¤ºçš„ã€‚

```js
console.log('\u0061\u030A') // aÌŠ
console.log('\u0061') // a
console.log('\u030A') //  ÌŠ

// \u030A å¯ä»¥ä¿®é¥°å…¶ä»–å­—ç¬¦
console.log('\u0065\u030A') // eÌŠ
console.log('\u0076\u030A') // vÌŠ
```

![unicode](./imgs/char-code/00e5.png)

å…¶ä¸­ `\u030A` ç”¨æ¥ä¿®é¥°å‰ä¸€ä¸ªå­—ç¬¦ä»¥ç»„åˆæˆä¸€ä¸ªæ•´ä½“ï¼Œç§°ä¹‹ä¸ºç»„åˆå­—ç¬¦ã€‚

> ç»„åˆç”¨å­—ç¬¦åŒ…æ‹¬ä»¥ä¸‹å­—ç¬¦ï¼šé‡éŸ³ç¬¦å·ã€å˜éŸ³ç¬¦ã€å¸Œä¼¯æ¥è¯­ç‚¹ã€é˜¿æ‹‰ä¼¯è¯­å…ƒéŸ³ç¬¦å·å’Œå°åº¦è¯­èŠ‚æ‹ç¬¦ã€‚</br>
> ç»„åˆç”¨å­—ç¬¦é€šå¸¸ä¸ä¼šç¦»å¼€åŸºç¡€å­—ç¬¦å•ç‹¬ä½¿ç”¨ï¼Œæˆ‘ä»¬åº”è¯¥é¿å…å•ç‹¬æ˜¾ç¤ºå®ƒä»¬ã€‚

**ç»„åˆçš„å­—ç¬¦åŒä»£ç†å¯¹ä¸€æ ·æ˜¯ä½¿ç”¨ä¸¤ä¸ªç å…ƒè¡¨ç¤ºçš„ï¼**

#### `String`

[`JavaScript` è§„èŒƒåœ¨è¯­è¨€å±‚é¢æ˜ç¡®å®šä¹‰äº† `String` ç±»å‹](http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types-string-type):

`String` ç±»å‹æ˜¯ç”± 16 `bit` æ— ç¬¦å·æ•´å‹æ•°å€¼ç»„æˆçš„é›†åˆï¼ŒåŒ…å« `0 ~ (Math.pow(2, 53) -1)` ä¸ªå…ƒç´ ã€‚

`String` ç±»å‹é€šå¸¸ç”¨æ¥åœ¨è¿è¡Œ `ECMAScript` çš„ç¨‹åºä¸­è¡¨ç¤ºæ–‡æœ¬ä¿¡æ¯ï¼Œå› æ­¤ `String` ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è¢«å½“ä½œä¸€ä¸ª `UTF-16` ç å…ƒå€¼ã€‚

**å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½ä¼šè¢«å¼•æ“è§£é‡Šä¸ºä¸€ä¸ªç å…ƒï¼**

**å­—ç¬¦ä¸²çš„é•¿åº¦å³æ˜¯å…ƒç´ çš„ä¸ªæ•°ï¼Œä¹Ÿå°±æ˜¯ç å…ƒçš„ä¸ªæ•°ï¼**

æ‰€ä»¥ï¼Œä¼šé€ æˆä¸€äº›ä¸ç¬¦åˆæ„Ÿå®˜é€»è¾‘çš„å‘ï¼š

```js
// è™½ç„¶å­—é¢é‡ 'cafe\u0301' å’Œ' cafÃ©' æœ‰è½»å¾®çš„å·®åˆ«ï¼Œä½†ä¸¤è€…éƒ½è¢«æ¸²æŸ“ä¸ºåŒæ ·çš„å­—ç¬¦åºåˆ— cafeÌ
console.log('cafe\u0301'); // => 'cafeÌ'  
console.log('cafÃ©');       // => 'cafÃ©' 
console.log('cafe\u0301' === 'cafÃ©') // => false

console.log('\u00e9' === '\u0065\u0301') // => falseï¼Œå…¶å®äºŒè€…éƒ½è¢«æ¸²æŸ“ä¸º eÌã€‚

// å­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯ä»¥ç å…ƒçš„ä¸ªæ•°è®¡ç®—çš„
// æ‰€ä»¥ä½¿ç”¨ä»£ç†å¯¹è¡¨ç¤ºçš„è¡¥å……å¹³é¢ä¸Šçš„ç ç‚¹å’Œç»„åˆå­—ç¬¦çš„é•¿åº¦è®¡ç®—ã€æˆªå–ã€åè½¬ã€æ­£åˆ™ç­‰æ“ä½œä¸€å®šè¦å°å¿ƒï¼
'cafeÌ'.length // => 5
'ğŸ”¥'.length // => 2
'ğŸ‘ª'.length // => 2
```

#### å‘ç‚¹1ï¼šå­—ç¬¦ä¸²æ¯”è¾ƒ

å­—ç¬¦ä¸²æ˜¯ç å…ƒçš„åºåˆ—ï¼Œæ‰€ä»¥å­—ç¬¦ä¸²çš„æ¯”è¾ƒå…¶å®è´¨å°±æ˜¯ç å…ƒåºåˆ—çš„è®¡ç®—ä¸åŒ¹é…ã€‚

```js
console.log('hello' === '\u0068ell\u006F') // => trueï¼ŒåŒ…å«ç›¸åŒçš„ç å…ƒåºåˆ—ï¼Œæ‰€ä»¥ç›¸ç­‰
```

*è¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯æœ€ç»ˆæ¸²æŸ“å‡ºæ¥çš„å­—ç¬¦ä¸²ç›¸åŒï¼Œä½†æ˜¯æ‹¥æœ‰ä¸åŒçš„ç å…ƒåºåˆ—*

```js
console.log('this is cafeÌ') // => this is cafeÌ
console.log('this is caf\u00E9') // => this is cafeÌ
console.log('this is caf\u00E9' === 'this is cafeÌ') // => false

// eÌ çš„ä¸¤ç§è¡¨ç¤ºæ–¹å¼
console.log('\u00e9' === '\u0065\u0301') // => false
```

è¿™é‡Œ ` eÌ ` å…ƒç´ æœ‰ä¸¤ç§æ–¹å¼ç”Ÿæˆï¼š

1. ä½¿ç”¨ `U+00E9 LATIN SMALL LETTER E WITH ACUTE`
2. ä½¿ç”¨ç»„åˆå­—ç¬¦ `\u0065\u0301` ç”Ÿæˆ

è¿™é‡Œå°±å­˜åœ¨äº†å·®å¼‚æ€§ï¼Œå¯¼è‡´æ¯”è¾ƒçš„ç»“æœä¸æœŸæœ›ä¸ç¬¦åˆï¼Œè§£å†³åŠæ³•å°±æ˜¯æŠ¹å¹³å·®å¼‚ï¼Œ**å­—ç¬¦æ ‡å‡†åŒ–**ã€‚

> æ ‡å‡†åŒ–æ˜¯æŒ‡å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºç»Ÿä¸€çš„è¡¨ç¤ºå½¢å¼ï¼Œä»¥ä¿è¯å…·æœ‰æ ‡å‡†ç­‰ä»·æ€§ï¼ˆæˆ–å…¼å®¹ç­‰ä»·æ€§ï¼‰çš„å­—ç¬¦ä¸²åªæœ‰ä¸€ç§è¡¨ç¤ºå½¢å¼ã€‚

`ES6` æä¾›äº†ä¸€ä¸ª `API`ï¼š[MyString.normalize([normForm])](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)ã€‚

```js
'this is caf\u00E9'.normalize() === 'this is cafeÌ'.normalize() // => true
```

Tips: è¿™é‡Œå…¶å® `this is caf\u00E9` ä¸éœ€è¦å†è°ƒç”¨ `normalize()`ï¼Œä¸¤ä¸ªå­—ç¬¦ä¸²éƒ½æ ‡å‡†åŒ–ä¸€ä¸‹æ˜¯åˆç†çš„ï¼

#### å‘ç‚¹2ï¼šå­—ç¬¦ä¸²é•¿åº¦

å­—ç¬¦ä¸²çš„é•¿åº¦åæ˜ çš„æ˜¯å¯¹åº”ç å…ƒçš„æ•°ç›®ï¼Œæ‰€ä»¥å¯¹äºåªåŒ…å« `BMP` å¹³é¢çš„ç ç‚¹çš„å­—ç¬¦ä¸²æ˜¯ç¬¦åˆé¢„æœŸçš„ã€‚

```js
console.log('hello'.length) // => 5
```

ä½†æ˜¯å½“å­—ç¬¦ä¸²ä¸­åŒ…å«è¡¥å……å¹³é¢çš„ç ç‚¹æˆ–è€…ç»„åˆå­—ç¬¦çš„æ—¶å€™å°±ä¸é‚£ä¹ˆè®©äººæ„‰å¿«äº†ï¼

```js
'ğŸ”¥'.length // => 2
'eÌ'.length // => 2
```

1. è¡¥å……å¹³é¢(ä»£ç†å¯¹)çš„æƒ…å†µ

`ES6` æä¾›äº†ä¸€ç§ç®—æ³•å¯ä»¥è¯†åˆ«è¡¥å……å¹³é¢ç ç‚¹ï¼Œå³ä½¿è¢«ç¼–è¯‘æˆä¸¤ä¸ªç å…ƒï¼ˆä»£ç†å¯¹ï¼‰ä¹Ÿä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚

å®ƒå°±æ˜¯ [```String.prototype[@@iterator]()```](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/@@iterator)ã€‚

æ‰€ä»¥ä¼šè°ƒç”¨å­—ç¬¦è¿­ä»£å™¨çš„ `[...str]` ä»¥åŠ `Array.from(str)` ç­‰ï¼Œå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ

```js
[...'ğŸ”¥'].length // => 2ï¼Œ ['ğŸ”¥', hole]
Array.from('ğŸ”¥').length // => 1

[...'ğŸ”¥'].filter(x => true).length // => 1
```

å®æµ‹ `Array.from` å¯ä»¥è¾¾åˆ°é¢„æœŸï¼Œä½¿ç”¨æ‹“å±•å‰©ä½™çš„æ–¹æ³•ä¼šå¾—åˆ°ä¸€ä¸ª[ç¨€ç–æ•°ç»„ï¼Œä¼šå¤šä¸€ä¸ªå­”](https://juejin.im/post/5b441b0ae51d45196f06d7cc)ï¼Œå¿…é¡»è¦ `filter` ä¸€ä¸‹ï¼Œä¸å¤ªå¥½ç”¨ã€‚

2. ç»„åˆå­—ç¬¦çš„æƒ…å†µ

å°è¯•æ ‡å‡†åŒ–ä¹‹åè¯•è¯•å‘¢ï¼Ÿ

```js
console.log('cafeÌ'.length) // => 5

// æ ‡å‡†åŒ–ä¹‹å
console.log('cafeÌ'.normalize().length) // => 4
```

åˆ«å¼€å¿ƒå¤ªæ—©

```js
console.loe('cafeÌ§Ì'.length) // => 6

console.log('cafeÌ§Ì'.normalize().length) // => 5
```

ä½ æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ

#### å‘ç‚¹3ï¼šå­—ç¬¦ä¸²æˆªå–

é€šè¿‡ç´¢å¼•è®¿é—®å­—ç¬¦çš„æ—¶å€™åŒæ ·ä¼šé‡åˆ°é—®é¢˜ã€‚

å¦‚æœæ˜¯åªåŒ…å« `BMP` å¹³é¢ç ç‚¹çš„å­—ç¬¦æ˜¯ç¬¦åˆé¢„æœŸçš„ï¼š

```js
'hello'[1] // => e
```

1. è¡¥å……å¹³é¢(ä»£ç†å¯¹)çš„æƒ…å†µ

```js
'ğŸ”¥'[0] // => "ï¿½"ï¼Œ'ğŸ”¥'[0]è®¿é—®çš„æ˜¯é«˜ä½ä»£ç†ç å…ƒï¼Œ'ğŸ”¥'[1]è®¿é—®çš„æ˜¯ä½ä½ä»£ç†ç å…ƒ
```

è§£å†³æ–¹æ¡ˆï¼š

```js
Array.from('ğŸ”¥')[0] // => ğŸ”¥

[...'ğŸ”¥'][0] // => ğŸ”¥

String.fromCodePoint('ğŸ”¥'.codePointAt(0)) // => ğŸ”¥
```

Tips: `ES6` ä¸­æ–°å¢åŠ çš„ `fromCodePoint` å’Œ `codePointAt` æ˜¯å¯¹ `fromCharCode` å’Œ `charCodeAt` æ–¹æ³•çš„å¢å¼ºç‰ˆã€‚åè€…å¯¹åªåŒ…å« `BMP` ç ç‚¹çš„å­—ç¬¦ä¸²æ˜¯ç¬¦åˆé¢„æœŸçš„ï¼

[MDN ç›¸å…³å†…å®¹](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint)

```js
'ğŸ”¥'.charCodeAt(0)
// => 55357
String.fromCharCode(55357)
// => "ï¿½"
```

2. ç»„åˆå­—ç¬¦çš„æƒ…å†µ

```js
'eÌ'[0] // => eï¼Œ'ğŸ”¥'[0]è®¿é—®çš„æ˜¯è¢«ä¿®é¥°çš„å­—ç¬¦ï¼Œ'ğŸ”¥'[1]è®¿é—®çš„æ˜¯ä¿®é¥°çš„ç»„åˆå­—ç¬¦
```

è§£å†³æ–¹æ¡ˆï¼ˆåªæ˜¯é’ˆå¯¹å¤§éƒ¨åˆ†æƒ…å†µçš„ï¼‰ï¼š

```js
'eÌ'.normalize()[0] // => eÌ

// æ— èƒ½ä¸ºåŠ›ç‰ˆ
'eÌ§Ì'.normalize()[0] // => È©
```

#### å‘ç‚¹4ï¼šå­—ç¬¦ä¸²åè½¬

åŒæ ·åœ¨è¡¥å……å¹³é¢ç ç‚¹æˆ–è€…ç»„åˆå­—ç¬¦çš„æ—¶å€™ä¼šæœ‰é—®é¢˜ã€‚

```js
const reverse = input => input.split('').reverse().join('')

// BMP
reverse('hello') // => olleh

// ä»£ç†å¯¹
reverse('ğŸ”¥') // => "ï¿½ï¿½"

// ç»„åˆå­—ç¬¦
reverse('eÌ') // => "Ìe"

```

æ”¹è¿›ä¸€ä¸‹ï¼Œåˆ©ç”¨è¿­ä»£å™¨

```js
const reverse = input => [...input].reverse().join('')

// BMP
reverse('hello') // => olleh

// ä»£ç†å¯¹
reverse('ğŸ”¥') // => ğŸ”¥

// ç»„åˆå­—ç¬¦
reverse('eÌ') // => eÌ

// ä½†æ˜¯.......
reverse('eÌ') // => "ÌÌ§e"
```

è¿˜æ˜¯ç”¨[esrever](https://github.com/mathiasbynens/esrever)å§ï¼

#### å‘ç‚¹5ï¼šæ­£åˆ™è¡¨è¾¾å¼

æ­£åˆ™è¡¨è¾¾å¼ä¸å­—ç¬¦ä¸²ä¸€æ ·ï¼Œæ˜¯åŸºäºç å…ƒå·¥ä½œçš„ã€‚å› æ­¤ä¸ä¸Šæ–‡æè¿°çš„æƒ…å½¢ç›¸ä¼¼ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åœ¨å¤„ç†ä»£ç†å¯¹å’Œç»„åˆå­—ç¬¦åºåˆ—æ—¶ä¹Ÿä¼šé‡åˆ°å›°éš¾ã€‚

`BMP` å­—ç¬¦çš„åŒ¹é…æ˜¯ç¬¦åˆé¢„æœŸçš„ï¼Œå› ä¸ºä¸€ä¸ªç å…ƒå¯¹åº”ä¸€ä¸ªå­—ç¬¦

```js
/.{5}/.test('hello') // => true
```

1. ä»£ç†å¯¹

```js
/^.$/.test('ğŸ”¥') // => false
```

è§£å†³æ–¹æ¡ˆï¼š

`ES6` å¼•å…¥äº† `u` æ ‡å¿—ï¼Œä½¿å¾—æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥è¯†åˆ« `Unicode`

```js
/^.$/u.test('ğŸ”¥') // => true
/\u{1F525}/u.test('ğŸ”¥') // => true
/[\uD83D\uDE00-\uD83D\uDE0E]/u.test('ğŸ˜Š') // => true
```

2. ç»„åˆå­—ç¬¦

è¦åŒ¹é…ç»„åˆå­—ç¬¦åºåˆ—ï¼Œåªèƒ½åˆ†åˆ«åŒ¹é…åŸºç¡€å­—ç¬¦ä¸ç»„åˆç”¨å­—ç¬¦ã€‚

```js
console.log(/.{5}/.test('cafeÌ')) // => true
/caf\u00E9/u.test('cafeÌ'.normalize()) // => true
```

### è¡¥å……

#### USC-2

æ˜¯ä¸€ç§å›ºå®šé•¿åº¦çš„ç¼–ç æ ¼å¼ï¼Œåªéœ€è¦ä½¿ç”¨ç¼–ç ä¸º 16 å­—èŠ‚ç¼–ç å•å…ƒæ¥è¡¨ç¤ºç ä½ã€‚è¿™æ ·çš„è¡¨ç¤ºç»“æœå°†å’Œ `UTF-16` åœ¨ 0 åˆ° `0xFFFF` (`BMP`)èŒƒå›´å†…å¤§å¤šæ•°çš„ç»“æœä¸€æ ·ã€‚

`UCS-2` æ‰€ç¼–ç çš„å­—ç¬¦é›†ä¸­çš„ `U+D800` ~ `U+DFFF` è¿™éƒ¨åˆ†ä»£ç†ç ç‚¹é™¤å¤–çš„è¯ï¼Œ`UTF-16` æ‰€ç¼–ç çš„å­—ç¬¦é›†å¯çœ‹æˆæ˜¯ `UCS-2` æ‰€ç¼–ç çš„å­—ç¬¦é›†çš„çˆ¶é›†ã€‚

æ€»çš„æ¥è¯´ï¼Œå°±æ˜¯å·²è¿‡æ—¶ï¼æ›´å¤šç›¸å…³å†…å®¹å¯ä»¥è‡ªå·±å»äº†è§£ä¸€ä¸‹ã€‚

## å‚è€ƒ

[JavaScript Unicode ç¼–ç é‚£äº›äº‹](https://objcer.com/2017/05/21/JavaScript-Unicode/)</br>
[Javascriptæœ‰ä¸ªUnicodeçš„å¤©å‘](http://www.alloyteam.com/2016/12/javascript-has-a-unicode-sinkhole/)</br>
[æ¯å¤©å­¦ç‚¹ES6ï¼å­—ç¬¦ä¸²](http://cookfront.github.io/2015/06/04/es6-string/)</br>
[Javascript ä¸å­—ç¬¦ç¼–ç ](https://github.com/SamHwang1990/blog/issues/2)</br>
[UNICODE IN JAVASCRIPT](https://flaviocopes.com/javascript-unicode/)</br>
[ç»†è¯´Unicode](https://segmentfault.com/a/1190000007992346)</br>
[JavaScript å¦‚ä½•æ­£ç¡®å¤„ç† Unicode ç¼–ç é—®é¢˜](https://segmentfault.com/a/1190000017782406)</br>
[Unicodeä¸­UTF-8ä¸UTF-16ç¼–ç è¯¦è§£](https://hk.saowen.com/a/56a972c980139aca25b33fc390910990572c6f893d4fd3cb2e1527fceb1c58c0)</br>
[Unicode åŠç¼–ç æ–¹å¼æ¦‚è¿°](https://www.ibm.com/developerworks/cn/java/unicode-programming-language/index.html)</br>
[æ¯ä¸ªJavaScriptå¼€å‘è€…éƒ½è¯¥æ‡‚çš„Unicode](https://www.zcfy.cc/article/what-every-javascript-developer-should-know-about-unicode-1303.html)</br>
[JavaScript emoji utils](http://www.ayqy.net/blog/javascript-emoji-utils/)</br>
[æµ…è°ˆXSSâ€”å­—ç¬¦ç¼–ç å’Œæµè§ˆå™¨è§£æåŸç†](https://security.yirendai.com/news/share/26)</br>
[utf-8å’ŒUnicodeçš„åŒºåˆ«](https://www.jianshu.com/p/36d20de2a1ee)</br>
[é˜®ä¸€å³°ï¼šæ•°å€¼ç±»å‹](https://javascript.ruanyifeng.com/grammar/number.html)</br>
[é˜®ä¸€å³°ï¼šã€Šå­—ç¬¦ç¼–ç ç¬”è®°ï¼šASCIIï¼ŒUnicodeå’ŒUTF-8ã€‹](http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html)</br>
